\subsection cmdtut_lat_recipes_merit Figures of Merit
\subsubsection cmdtut_integration_lattices Ordinary Lattice Rules
- The spectral figure of merit (weighted worst projection):
  \f[
    \max_{\emptyset \neq \mathfrak u \subseteq \{1,\dots,s\}}
        \gamma_{\mathfrak u}
        \left[
            \bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a)
        \right]
  \f]
  where \f$s\f$ is the dimension (5 in the basic example),
  \f$n\f$ is the number of points (2053 in the basic example),
  \f$\boldsymbol a\f$ is the generating vector (to be found),
  the constants \f$\gamma_{\mathfrak u}\f$ are projection-dependent weights
  (specified as product weights in the basic example),
  and \f$\bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a)\f$ is normalized
  maximum distance between two successive parallel hyperplanes:
  \verbatim
    --norm-type inf --figure-of-merit spectral
  \endverbatim

- The spectral figure of merit (weighted average):
  \f[
    \sum_{\emptyset \neq \mathfrak u \subseteq \{1,\dots,s\}}
        \left[
            \gamma_{\mathfrak u}
            \bar{\mathcal L}_{\mathfrak u}(n, \boldsymbol a)
        \right]^2
  \f]
  \verbatim
    --figure-of-merit spectral
  \endverbatim
  The optional third colon-separated token specifies the exponent applied to the
  square brackets.  It defaults to 1, as in the previous example.

- The \f$\mathcal P_\alpha\f$ discrepancy with \f$\alpha=2\f$, using a
  term-by-term evaluation of the sum with an \f$\ell_q\f$ norm with
  \f$q=1.5\f$:
  \verbatim
    --figure-of-merit P2 --norm-type 1.5
  \endverbatim

- The \f$\mathcal P_\alpha\f$ discrepancy with \f$\alpha=4\f$, using
  term-by-term evaluation of the sum:
  \verbatim
    --figure-of-merit P4
  \endverbatim

- The \f$\mathcal P_\alpha\f$ discrepancy with \f$\alpha=4\f$, using a
  coordinate-uniform evaluation algorithm:
  \verbatim
    --figure-of-merit CU:P4
  \endverbatim

- The \f$\mathcal R_\alpha\f$ criterion with \f$\alpha=1\f$, using a
  coordinate-uniform evaluation algorithm:
  \verbatim
    --figure-of-merit CU:R1
  \endverbatim

- The normalized \f$\mathcal P_\alpha\f$ discrepancy with \f$\alpha=2\f$, using
  the bound from \cite rSIN11a :
  \verbatim
    --figure-of-merit CU:P2 --filters norm:P2-SL10
  \endverbatim
  Usage of the <code>\--filters</code> option is illustrated in \ref
  cmdtut_lat_recipes_filters.

\subsubsection cmdtut_figures_polynomial_lattices Polynomial Lattice Rules
- The \f$\mathcal P_{\alpha,PLR}\f$ discrepancy with \f$\alpha=2\f$, using a
  term-by-term evaluation of the sum with an \f$\ell_q\f$ norm with
  \f$q=1.5\f$:
  \verbatim
    --figure-of-merit P2 --norm-type 1.5
  \endverbatim
- The \f$\mathcal P_{\alpha,PLR}\f$ discrepancy with \f$\alpha=4\f$, using
  term-by-term evaluation of the sum:
  \verbatim
    --figure-of-merit P4
  \endverbatim

- The \f$\mathcal P_{\alpha,PLR}\f$ discrepancy with \f$\alpha=4\f$, using a
  coordinate-uniform evaluation algorithm:
  \verbatim
    --figure-of-merit CU:P4
  \endverbatim
- The \f$\mathcal R\f$ criterion, using a
  coordinate-uniform evaluation algorithm:
  \verbatim
    --figure-of-merit CU:R1
  \endverbatim


\subsection cmdtut_lat_recipes_filters Filtering Merit Values

Filters are optional and can be used to transform the computed values of a
figure of merit, or to reject bad values.
Multiple filters can be chained together by specifying multiple filter
arguments separated by whitespace.

- Normalization using a bound on \f$\mathcal P_\alpha\f$ from \cite rSIN11a with
  \f$\alpha=2\f$:
  \verbatim
    --filters norm:P2-SL10
  \endverbatim
  The first colon-separated token (\c norm) indicates that we want to apply a
  normalization.  The second one is the type of normalization (here, a
  particular bound on \f$\mathcal P_2\f$.

- Normalization using a bound on \f$\mathcal P_\alpha\f$ from \cite vDIC08c
  (available only when using product weights) with \f$\alpha=2\f$:
  \verbatim
    --filters norm:P2-DPW08
  \endverbatim

- Rejecting candidate lattices that have a normalized merit value larger than
  unity:
  \verbatim
    --filters norm:P2-SL10 low-pass:1.0
  \endverbatim
  The first filter is explained above.
  The second filter consists of two colon-separated tokens: the first one (\c
  low-pass) indicates that we want to apply a low-pass filter on merit values;
  the second one specifies the threshold value of this low-pass filter.


For usage with embedded lattices, see \ref cmdtut_lat_recipes_embedded.
\subsection cmdtut_lat_recipes_extensible Extensible Lattices

Suppose you have constructed embedded ordinary lattice rules up to \f$2^8\f$ points in
dimension 5 with:
\verbatim
latbuilder \
  --construction ordinary \
  --multilevel true \
  --modulus "2^8" \
  --dimension 5 \
  --construction fast-CBC \
  --figure-of-merit CU:P2 \
  --multilevel-filters norm:P2-DPW08 low-pass:1.0 \
  --weights product:0.1 \
  --combiner sum
\endverbatim
and have obtained the generating vector \f$\boldsymbol a=(1,45,101,41,25)\f$.
Then, you find out that you need to extend the number of points to \f$2^9\f$.
This can be done with:
\verbatim
latbuilder \
  --construction ordinary \
  --multilevel false \
  --modulus "2^9" \
  --dimension 5 \
  --construction "extend:2^8:1,45,101,41,25" \
  --figure-of-merit CU:P2 \
  --weights product:0.1
\endverbatim
Note that only the merit value of the lattice with \f$2^9\f$ points, and not
that of the embedded lattices, is considered in this type of construction.
The argument <code>\--modulus "2^9"</code> specifies the extended number of points
and the argument <code>\--construction "extend:2^8:1,45,101,41,25"</code> indicates
that we want to extend on a lattice with \f$2^8\f$ points and generating vector 
\f$\boldsymbol a=(1,45,101,41,25)\f$.
